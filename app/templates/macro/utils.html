{% macro ga_event(category, action, value) %}
  data-ga-category="{{category}}" data-ga-action="{{action}}" data-ga-value="{{value}}"
{% endmacro %}


{% macro download_btn(name, class, category, code) %}
  {% set user_agent_is = user_agent().is %}
  <a class="{{class}}"
      {% if user_agent_is['android'] %}
        href="{{config.URL.DOWNLOAD_ANDROID_BASE}}{{'&referrer=%s' % code if code}}"
        rel="noopener noreferrer" target="_blank"
        {{ga_event(category, 'download', 'android')}}
      {% elif user_agent_is['ios'] %}
        href="{{config.URL.DOWNLOAD_IOS_BASE}}"
        rel="noopener noreferrer" target="_blank"
        {{ga_event(category, 'download', 'ios')}}
      {% elif user_agent_is['osx'] %}
        href="{{config.URL.DOWNLOAD_OSX_BASE}}"
        rel="noopener noreferrer" target="_blank"
        {{ga_event(category, 'download', 'osx')}}
      {% elif user_agent_is['windows'] %}
        href="{{config.URL.DOWNLOAD_WINDOWS_BASE}}"
        rel="noopener noreferrer" target="_blank"
        {{ga_event(category, 'download', 'windows')}}
      {% else %}
        href="{{config.URL.WEBSITE_BASE}}/download"
      {% endif %}
    >{{name}}</a>
{% endmacro %}
