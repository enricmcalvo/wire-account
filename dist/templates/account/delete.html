{% extends 'base.html' %}
{% import 'macro/utils.html' as utils %}

{% block content %}
  {% if status == 'success' %}
    <h1>{{title}}</h1>
    <p>{{_('delete.confirmation')}}</p>
    <p>
      {{_('delete.thanks')}}
      {% autoescape false %}
        {% set surveyText %}If youâ€™d like, you can {{utils.link(config.URL.ACCOUNT_DELETE_SURVEY, _('delete.surveyLink'))}}{% endset %}
        {{_(surveyText)}}
      {% endautoescape %}
      {{_('delete.duration')}}
    </p>
  {% elif status == 'error' %}
    <h1>{{_('delete.errorTitle')}}</h1>
    <p>{{_('delete.errorDescription')}}</p>
  {% else %}
    <h1>{{title}}</h1>
    <p>
      {{_('delete.greeting')}}<br>
      {{_('delete.description')}}
    </p>
    <form action="{{routes.deleteAccount}}" method="POST">
      <input name="key" type="hidden" value="{{key}}">
      <input name="code" type="hidden" value="{{code}}">
      <button class="wbtn red" type="submit" data-loading-text="{{_('general.loading')}}">
        {{_('delete.button')}}
      </button>
    </form>

    <p>
      {% autoescape false %}
        {% set forgot %}If you did not ask for this, you should {{utils.link(routes.forgot, _('delete.forgotLink'), false)}}{% endset %}
        {{_(forgot)}}
      {% endautoescape %}
    </p>
  {% endif %}
{% endblock %}
