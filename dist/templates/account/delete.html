{% extends 'base.html' %}
{% import 'macro/utils.html' as utils %}

{% block content %}
  {% if status == 'success' %}
    <h1>{{_('Account deleted')}}</h1>
    <p>{{_('All your data on Wire is now erased.')}}</p>
    <p>
      {{_('Thanks for using Wire.')}}
      {% autoescape false %}
        {% set surveyText %}If you’d like, you can {{utils.link(config.URL.ACCOUNT_DELETE_SURVEY, _('share your thoughts about it.'))}}{% endset %}
        {{_(surveyText)}}
      {% endautoescape %}
      {{_('This will take no longer than a minute.')}}
    </p>
  {% elif status == 'error' %}
    <h1>{{_('Something went wrong')}}</h1>
    <p>{{_('Please try again to delete your account.')}}</p>
  {% else %}
    <h1>{{title}}</h1>
    <p>
      {{_('Hi there,')}}<br>
      {{_('We’ve received a request to delete your Wire account. Click on the button below to proceed. It is valid for 10 minutes.')}}
    </p>
    <form action="{{routes.deleteAccount}}" method="POST">
      <input name="key" type="hidden" value="{{key}}">
      <input name="code" type="hidden" value="{{code}}">
      <button class="wbtn red" type="submit" data-loading-text="{{_('Please wait…')}}">
        {{_('Delete Account')}}
      </button>
    </form>

    <p>
      {% autoescape false %}
        {% set forgot %}If you did not ask for this, you should {{utils.link(routes.forgot, _('reset your Wire password.'), false)}}{% endset %}
        {{_(forgot)}}
      {% endautoescape %}
    </p>
  {% endif %}
{% endblock %}
